CREATE OR REPLACE PROCEDURE RAISE_SALARY(dept_no number, percentage number) AS
employee_salary EMPLOYEE.SALARY%TYPE;
CURSOR ECursor IS 
	SELECT SALARY FROM EMPLOYEE where DNO = dept_no FOR UPDATE;
BEGIN
	OPEN ECursor;
	LOOP
	FETCH ECursor into employee_salary;
	EXIT WHEN ECursor%NOTFOUND;
	UPDATE EMPLOYEE SET SALARY = (employee_salary*percentage) WHERE CURRENT OF ECursor;
	END LOOP;
	CLOSE ECursor;
	COMMIT;
END RAISE_SALARY;
